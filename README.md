# Fitted

> **Your AI-powered wardrobe assistant that makes getting dressed effortless.**
>
> Never stare at your closet wondering "what should I wear?" again. Fitted is a smart outfit suggestion app designed for UW students that combines the addictive swipe interface of Tinder with AI-powered fashion intelligence. Simply photograph your clothes, and Fitted creates personalized outfit combinations based on the weather, your style preferences, and the occasion—all while you swipe through recommendations like you're browsing your favorite app.
>
> **What makes Fitted different:**
> - **Smart & Contextual**: AI analyzes your wardrobe and generates outfits that match Seattle's unpredictable weather, your daily schedule, and personal style
> - **Effortless Organization**: Snap photos of your clothes and let AI automatically categorize them and remove backgrounds—no manual tagging required
> - **Swipe to Decide**: Browse outfit suggestions with familiar Tinder-style swipes—right to save as "Today's Pick," left to see more options
> - **Privacy-First**: All your wardrobe data stays on your device with local storage and IndexedDB—no cloud uploads, no privacy concerns
> - **UW Themed**: Built with Husky spirit, featuring UW's signature purple and gold color scheme
>
> Whether you're rushing to a morning lecture, preparing for a job interview, or planning a night out, Fitted takes the guesswork out of getting dressed.
> - **Future In the making**: Currently in active development as part of the UW AISC UW PC25 program, with ongoing enhancements and new features being added regularly. Including a widget that shows outfit suggestions that were generated by the app directly on your phone's home screen!

[![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=flat&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![React](https://img.shields.io/badge/React-20232A?style=flat&logo=react&logoColor=61DAFB)](https://reactjs.org/)
[![Vite](https://img.shields.io/badge/Vite-646CFF?style=flat&logo=vite&logoColor=white)](https://vitejs.dev/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-38B2AC?style=flat&logo=tailwind-css&logoColor=white)](https://tailwindcss.com/)

## Features

### Wardrobe Management
- **Photo Upload**: Capture or upload clothing items via camera/file picker
- **Automatic Background Removal**: Always-on background removal using client-side WASM
- **AI Analysis**: Optional GPT-4 Vision analysis for category, color, and style detection
- **Batch Upload**: Upload up to 20 images simultaneously
- **Smart Organization**: Category-based organization (tops, bottoms, shoes, accessories, outerwear)
- **Minimum Unlock**: Requires 10 items to unlock swipe mode (5 tops, 3 bottoms, 2 shoes)

### Outfit Generation
- **Local Algorithm**: Smart outfit generation based on color compatibility, style weighting, and category matching
- **AI Mode**: GPT-4 powered recommendations with weather and location context
- **Weather-Aware**: Integrates real-time weather data for appropriate suggestions
- **Daily Suggestions**: 5-10 outfit recommendations, cached for 24 hours
- **Time & Location Modes**: Context-aware suggestions based on time of day and location

### Swipe Interface
- **Tinder-Style Cards**: Intuitive swipe gestures for outfit selection
- **Like/Dislike**: Save favorites or skip outfits you don't like
- **Today's Pick**: Save selected outfit for the day (24-hour cache)
- **Re-Swipe**: Change your mind and browse more options

### User Experience
- **UW Branding**: Custom purple (`#4b2e83`) and gold (`#b7a57a`) theme
- **Dark/Light Mode**: Full theme support with smooth transitions
- **Weather Widget**: Persistent global weather display across all pages
- **Batch Upload State**: Upload progress persists across page navigation
- **Responsive Design**: Optimized for mobile and desktop

## Tech Stack

- **Frontend**: React 18 + TypeScript + Vite
- **Styling**: Tailwind CSS
- **Animations**: Framer Motion
- **Storage**: LocalStorage + IndexedDB
- **State Management**: Zustand
- **Icons**: Lucide React
- **AI**: OpenAI GPT-4 Vision API
- **Image Processing**:
  - `@imgly/background-removal` (WASM-based)
  - `browser-image-compression`
  - `heic2any` (iOS HEIC support)
- **Database**: IndexedDB via `idb` library

## Getting Started

### Prerequisites

- Node.js 18+ and npm
- OpenAI API key (for AI features)

### Installation

1. Clone the repository:
```bash
git clone https://github.com/yourusername/aiscuw-pc25-fitted.git
cd aiscuw-pc25-fitted
```

2. Install dependencies:
```bash
npm install
```

3. Create environment file:
```bash
# .env.local (server-side only, NOT exposed to client)
OPENAI_API_KEY=sk-your-api-key-here
```

4. Start development server:
```bash
npm run dev
```

5. Open [http://localhost:5174](http://localhost:5174) in your browser

### Development Commands

```bash
npm run dev      # Start dev server (http://localhost:5174)
npm run build    # Production build with TypeScript checking
npm run preview  # Preview production build
npm run lint     # Run ESLint
```

## Project Structure

```
src/
├── components/
│   ├── onboarding/        # Welcome, FashionQuestionnaire
│   ├── wardrobe/          # WardrobeUpload, WardrobeGrid, BatchUpload
│   ├── swipe/             # SwipeInterface, OutfitCard, SwipeControls
│   ├── profile/           # TodaysPick, OutfitHistory, ProfileSettings
│   ├── outfits/           # AIOutfitGenerator
│   ├── layout/            # Header, Navigation, ThemeToggle
│   └── shared/            # Button, Card, Modal
├── hooks/                 # useLocalStorage, useWardrobe, useAIOutfitRecommendations
├── store/                 # Zustand store (useStore.ts)
├── utils/                 # outfitGenerator, imageCompression, backgroundRemoval
├── services/              # API client (api.ts)
├── types/                 # TypeScript interfaces
└── api/                   # Serverless functions
    ├── analyze-clothing.ts
    ├── recommend-outfits.ts
    └── weather.ts
```

## API Endpoints

### Analyze Clothing
```
POST /api/analyze-clothing
Body: {
  image: string (base64),
  userPreferences: UserProfile
}
Returns: {
  category: string,
  colors: string[],
  styles: string[],
  description: string,
  confidence: number
}
```

### Recommend Outfits
```
POST /api/recommend-outfits
Body: {
  wardrobe: ClothingItem[],
  weather: WeatherData,
  preferences: UserProfile
}
Returns: {
  outfits: Outfit[],
  reasoning: string
}
```

### Weather
```
GET /api/weather?lat=47.6062&lon=-122.3321
Returns: {
  temperature: number,
  condition: string,
  precipitation: number
}
```

## Core Data Models

### ClothingItem
```typescript
interface ClothingItem {
  id: string;
  image: string; // IndexedDB reference
  category: 'top' | 'bottom' | 'shoes' | 'accessory' | 'outerwear';
  colors: string[];
  style?: string[];
  aiAnalysis?: AIClothingAnalysis;
  uploadedAt: Date;
}
```

### Outfit
```typescript
interface Outfit {
  id: string;
  items: ClothingItem[];
  createdAt: Date;
  liked?: boolean;
}
```

### UserProfile
```typescript
interface UserProfile {
  hasCompletedOnboarding: boolean;
  stylePreferences: {
    casual: number;
    formal: number;
    streetwear: number;
    athletic: number;
    preppy: number;
  };
  favoriteColors: string[];
  location?: { latitude: number; longitude: number };
  completedAt?: Date;
}
```

## Development Status

### Recently Completed

#### Phase 18: Global Weather Widget & Persistent Upload State ✅
- Weather state moved to global Zustand store with 30-min cache
- Weather widget now appears in Header on ALL pages
- Batch upload state persists across page navigation
- Upload queue and progress tracked globally
- Cancellation works across component unmounts

#### Phase 17: Fix AI Outfit Generation ✅
- AI API integrated into AIOutfitGenerator component
- Time/Location/Occasion context passed to AI
- Graceful fallback to local algorithm on AI failure
- AI-powered badge indicates when AI is used
- Error handling with user-friendly messages

#### Phase 16: Enhanced AI Generator (Time & Location Modes) ✅
- Added time-of-day and location-based outfit suggestions
- Enhanced AI prompts with contextual information

#### Phase 14: Weather Integration ✅
- Real-time weather data integration
- Weather-aware outfit recommendations
- Location permission handling

### Currently In Progress

#### Phase 13: 3D Effects, Particles & Sound
**Goal**: Premium UI with 3D card effects, particle animations, and sound design

**Completed Steps:**
- ✅ Dependencies installed (particles, confetti, sound)
- ✅ Card3D component with theme-aware tilt effects
- ✅ Particle system with burst/confetti/sparkle effects

**Next Steps:**
- Enhanced theme toggle with 3D & particles
- Sound system integration
- Apply 3D to outfit cards, wardrobe grid, and Today's Pick
- Performance optimization
- Accessibility enhancements

## Performance Optimizations

- React.lazy + Suspense for code splitting
- React.memo for ClothingItem and OutfitCard
- useCallback/useMemo for expensive operations
- Image compression (512px, 60% quality for AI)
- IndexedDB for efficient image storage
- Background removal cached (WASM model loaded once)
- Weather data cached (30-minute refresh)

## Cost Analysis

**Per 100 Images:**
- Background removal: $0 (client-side WASM)
- Image format conversion: $0 (client-side Canvas API)
- AI analysis: $0.15 (optional, $0.0015 per image)
- Outfit recommendations: $0.10 ($0.001 per request)

**Total**: ~$0.25 per 100 items analyzed + 100 outfit generations

## Browser Support

- Chrome/Edge (latest)
- Safari (latest)
- Firefox (latest)
- Mobile browsers (iOS Safari, Chrome Mobile)

## Environment Variables

```bash
# .env.local (server-side only)
OPENAI_API_KEY=...

# Note: No VITE_ prefix = hidden from browser
```

## Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## Design Guidelines

- **No Emojis**: Use Lucide icons throughout the app
- **UW Colors**: Primary Purple `#4b2e83`, Gold Accent `#b7a57a`
- **Accessibility**: Support `prefers-reduced-motion` and screen readers
- **Mobile-First**: Design for mobile, enhance for desktop

## License

This project is part of the UW AISC UW PC25 program.

## Acknowledgments

- Built for the University of Washington community
- Powered by OpenAI GPT-4 Vision API
- Background removal by imgly
- Icons by Lucide

---

**Last Updated**: 2025-11-17 (Phase 18 Complete)
